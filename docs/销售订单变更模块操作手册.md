# 销售变更模块用户使用手册

## 一、模块概述
本扩展模块主要包含两个主要的 Python 文件：`sale_change/report/sale_change_report.py` 和 `sale_change/wizard/sale_change_download.py`，提供了销售变更报表查看和销售变更单下载的功能。以下是详细的使用说明。

## 二、销售变更报表（`sale_change/report/sale_change_report.py`）

### 1. 功能介绍
该模块提供了一个销售变更报表视图，展示了销售变更的相关信息，包括单号、日期、产品变体、单位、原数量、变更后数量等详细信息。

### 2. 操作步骤
- **访问报表**：在 Odoo 系统中，找到与销售变更相关的模块菜单（具体菜单位置可能因系统配置不同而有所差异），进入销售变更报表界面。
- **查看报表数据**：在报表界面中，你将看到按照日期降序排列的销售变更记录。报表中的字段包括：
  - **单号**：销售变更单的编号，只读字段。
  - **日期**：销售变更的日期，只读字段。
  - **产品变体**：关联的产品变体信息，只读字段。
  - **单位**：产品的单位，只读字段。
  - **原数量**：变更前的产品数量，只读字段。
  - **变更后数量**：变更后的产品数量，只读字段。
  - **客户**：关联的客户信息，只读字段。
  - **公司**：关联的公司信息，只读字段。
  - **人员**：关联的操作人员信息，只读字段。
  - **总计**：销售变更的总计金额，只读字段。
  - **小计**：销售变更的小计金额，只读字段。
  - **产品**：关联的产品信息，只读字段。
  - **产品类别**：产品所属的类别信息，只读字段。
  - **#明细行**：明细行的数量，只读字段。
  - **客户国家**：客户所在的国家信息，只读字段。
  - **状态**：销售变更单的状态，包括草稿、已提交、完成，只读字段。
  - **销售变更单**：关联的销售变更单信息，只读字段。

## 三、销售变更单下载（`sale_change/wizard/sale_change_download.py`）

### 1. 功能介绍
该模块提供了一个向导，用于下载销售变更单。用户可以选择要下载的销售变更单，然后点击下载按钮，系统将生成一个包含所选销售变更单信息的 Excel 文件。

### 2. 操作步骤
- **打开下载向导**：在 Odoo 系统中，找到与销售变更单下载相关的菜单或按钮（具体位置可能因系统配置不同而有所差异），点击进入下载向导界面。
- **选择销售变更单**：在下载向导界面中，有一个“销售变更单”字段，点击该字段旁边的放大镜图标，弹出选择窗口，选择你需要下载的销售变更单（可多选）。
- **确认类型**：“类型”字段默认为“销售变更单”，一般无需修改。
- **点击下载按钮**：选择好销售变更单后，点击“下载”按钮（通常按钮名称为“action_download”在界面上可能有更友好的显示名称）。
- **下载文件**：系统将生成一个 Excel 文件，浏览器会弹出下载提示框，点击下载即可将文件保存到本地。

## 四、注意事项
- 报表中的所有字段均为只读字段，用户无法直接在报表中修改数据。
- 在下载销售变更单时，请确保选择了至少一个销售变更单，否则可能会出现错误提示。
- 如果在使用过程中遇到问题，可查看 Odoo 系统日志文件，获取详细的错误信息。